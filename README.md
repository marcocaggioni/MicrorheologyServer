# microrheology-server


The docker file is based on the official docker image for jupyter/scipy on dokerhub https://hub.docker.com/r/jupyter/scipy-notebook

to start the image use the command:

```
docker run -it -p 9999:8888 -v C:\path\tohost\folder:/home/jovyan/work --user root -e GRANT_SUDO=yes -e JUPYTER_ENABLE_LAB=yes  mcaggio/microrheologyserver start-notebook.sh --NotebookApp.password='sha1:3eda2773dc9b:cc1b2789ab15db84967eeadf594b233c3062b9d0' --NotebookApp.base_url=/microrheology
```

the command provided uses several initialization parameters:

* **-it** :Run an image in interactive mode
* **-p 9999:8888** : map tcp port 9999 of the host to the 8888 port of the docker container (in the docker container 8888 is the default port for the jupyter server)
* **-v C:\path\tohost\folder:/home/jovyan/work** : map local volume C:\path\tohost\folder to the container folder /home/jovyan/work which is the working folder in the jupyter scipy image
* **--user root -e GRANT_SUDO=yes** : grant to the jovyan user, by default the user running the jupyter server in the container, sudo privileges. This allows fo example to install os packeages with sudo apt-get install command. This can be easily done from the jupyter terminal. If you do not plan to install os packages this setting can be removed. You do not need this to install conda or pip packages.
* **JUPYTER_ENABLE_LAB=yes** : by default the jupyter/scipy image start a classical notebook server, use this to automatically land on jupyterlab.
* **mcaggio/microrheologyserver** : the name of the container image to run, if already downloaded will use the local, if not locally present will get from dockerhub.
* **start-notebook.sh --NotebookApp.password='sha1:encrypted password'** : this set a password for the jupyter server. the encripted password can be generated by the IPython.lib.security.passwd() function. Run that without argument and write the password in the prompt.
* **--NotebookApp.base_url=/microrheology** : set the server url.

Once the command is executed, in windows from command prompt or powershell (usefull to keep command hystory), a container start and a jupyter server is available at:

```
http://localhost:9999/microrheology
```

A page with password request should appear and once the password is provided jupyterlab will start.

The folder work will map the host folder selected so to pass data or notebooks to the container and to retreve from the container use that folder.
